<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/png" href="../icons8-consumption-96.png">
  <title>Expense Tracker</title>


  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
  <div class="w-full max-h-screen">
    <!-- header -->
    <div class="container flex items-center  max-w-[1500px] mx-auto bg-green-200 py-3 mb-5 rounded-lg">
      <div class=" md:w-1/2">
        <h1 class="text-center text-xl font-bold animate-bounce">Expense Tracker</h1>
      </div>
      <div class="text-center" id="loggedName"></div>
      <div class="w-full text-end">
        <button id="buyPremiumBtn" type="submit"
          class="p-1 m-1 px-2 bg-blue-400 rounded-md shadow-md hover:bg-blue-900 text-white font-medium">Buy
          Premium</button>
        <span class="p-1 px-4 text-blue-700  font-bold" id="memtype"></span>
        <button id="downloadReportBtn" onclick="downloadReport()"
          class="hidden p-1 mr-5 px-2 bg-green-700 rounded-md shadow-md text-white font-medium hover:bg-green-400  ">Download</button>
        <button id="logoutBtn"
          class=" p-1 m-1 mr-6 px-2 bg-red-400 rounded-md shadow-md hover:bg-red-900 text-white font-medium"
          type="button">Logout</button>
      </div>
    </div>

    <!--  main container -->
    <div class=" container md:flex lg:flex xl:flex mb-2 ">

      <!-- form container -->
      <div class="container mx-auto w-full md:w-1/3 lg:w-1/3 xl:w-1/3 p-4 ">
        <form id="my-form" onsubmit="saveToDb(event)"
          class=" border bg-gray-100 border-gray-300 shadow-xl rounded-md px-8 pt-6 pb-8 mb-4">
          <div class="mb-4">
            <label class="text-[#002D74] block  text-sm font-bold mb-2" for="addexpenseinput">
              Expense Amount
            </label>
            <input type="text" placeholder="Enter expense amount" id="addexpenseinput"
              class="bg-white-500 appearance-none border-2 border-gray-200 rounded w-full py-2 px-3 text-gray-900 leading-tight focus:outline-none focus:bg-white focus:border-purple-500"
              required>
          </div>
          <div class="mb-4">
            <label class="block text-[#002D74] text-sm font-bold mb-2" for="addexpensedescription">
              Expense Description
            </label>
            <input type="text" id="addexpensedescription" placeholder="Enter expense description"
              class="bg-white-500 appearance-none border-2 border-gray-200 rounded w-full py-2 px-3 text-gray-900 leading-tight focus:outline-none focus:bg-white focus:border-purple-500"
              required>
          </div>
          <div class="mb-4">
            <label for="category" class="block text-[#002D74] text-sm font-bold mb-2">Expense Category</label>
            <select id="addexpensecategory"
              class="bg-white-500 appearance-none border-2 rounded w-full py-2 px-3 text-gray-900 leading-tight focus:outline-none focus:bg-white focus:border-purple-500"
              required>
              <option></option>
              <option value="Fuel">Fuel</option>
              <option value="Movie">Movie</option>
              <option value="Food">Food</option>
              <option value="Electricity">Electricity</option>
              <option value="Salary">Salary</option>
            </select>
          </div>
          <div class="flex items-center justify-between">
            <button type="submit"
              class="rounded-xl py-2  bg-[#002D74] text-white max-w-full px-8 hover:scale-105 duration-300 hover:bg-[#5f93e7]"
              id="addexpensebtn" style="display: block;">
              Add Expense
            </button>
            <button type="button"
              class="rounded-xl py-2  bg-[#002D74] text-white max-w-full px-8 hover:scale-105 hover:duration-300 hover:bg-[#5f93e7]"
              id="updateexpensebtn" style="display: none;">
              Update Expense
            </button>
          </div>
        </form>

        <!-- leaderboard btn -->
        <div id="leaderBtnHolder" class=" w-full text-center mt-4">
          <!-- leaderBoardBtn -->
          <!-- showDownload Btn -->
        </div>

        <!-- Success alert -->
        <div id="success-alert" class="bg-green-500 text-white p-3 font-bold hidden ">
        </div>

        <!-- deletion-alert -->
        <div id="deletion-alert" class="bg-red-400 text-white font-bold p-3 hidden">
        </div>

        <!-- error alert -->
        <div id="error-alert" class="bg-red-400 text-white p-3 hidden">
          <span class="error-textMsg font-bold"></span>
          <button id="close-button" class="bg-red-500 text-white rounded-full ">
            <span class="font-bold justify-end px-2">X</span>
          </button>
        </div>

      </div>



      <!--  Expense Data Conatiner -->
      <div class=" container mx-auto w-full md:w-2/3 lg:w-2/3 xl:w-2/3 p-4 max-h-[480px] mb-2 " id="tableitems">
        <!-- Expense Records Table -->
        <table class="w-full shadow-xl rounded mx-auto mb-2 ">
          <thead>
            <tr class="bg-gray-300 text-gray-800 font-bold text-sm">
              <th class="py-3 px-3 border-b border-gray-400">Expense Amount</th>
              <th class="py-3 px-3 border-b border-gray-400">Expense Description</th>
              <th class="py-3 px-3 border-b border-gray-400">Expense Category</th>
              <th class="py-3 px-3 border-b border-gray-400">Actions</th>
            </tr>
          </thead>
          <tbody class="text-center" id="addedexpenselist">
            <!-- Expense Table goes here -->
          </tbody>
        </table>
        
        <!-- PAGINATION-->
        <div class="w-full text-center m-1 p-1 mb-3 ">
          <div id="paginationContainer">
            <button id="prevPage"
              class="px-3 py-1 ml-0  bg-white border border-gray-400 rounded-l-lg shadow-md hover:bg-green-300 hover: hover:text-white font-semibold">Previous</button>
            <span id="pageNumber" class="m-1 px-1 py-1 w-7 border border-gray-400 bg-white text-gray-500 "></span>
            <button id="nextPage"
              class="px-3 py-1 ml-0  bg-white border border-gray-300 rounded-r-lg shadow-md hover:bg-green-300  hover:text-white font-semibold">Next</button>
              <span class="text-gray-500 font-serif ml-2">showing <span id="showingcurrPage"></span> of <span id="showingRange"></span></span>
           
              <label class="text-right font-medium mr-2" for="pageLimit">Expenses per page:</label>
              <input type="number" id="pageLimit" class="w-10 py-1 px-1 text-gray-600 border border-gray-400 rounded-sm" min="1" paceholder="5">
              <button id="savePageLimit" class="px-3 py-1 ml-0  bg-white border border-gray-300 rounded-r-lg shadow-md hover:bg-green-300  hover:text-white font-semibold">Save</button>
            
            </div>          
        </div>
        <!-- PAGINATION -->

      </div>
    </div>



    <!--- Premium user Feature Leader Board -->
    <div class="container w-full flex">
      <div class="container w-full mt-5 md:w-1/2 p-4  mx-auto hidden " id="leaderBoardTable">
        <!-- Leader Board Table -->
        <div class="text-center rounded-t-md bg-green-300 p-1 font-bold " id="leadermsg">LeaderBoard</div>
        <table class="w-full shadow-xl rounded mx-auto ">
          <thead>
            <tr class="bg-gray-300 text-[#002D74] font-bold text-sm">
              <th class="py-2 px-2 border-b border-gray-400">Name</th>
              <th class="py-2 px-2 border-b border-gray-400">Total Expense Amount</th>
            </tr>
          </thead>
          <tbody class="text-center" id="addedLeaderBoardlist">
            <!-- <tr class=" text-sm hover:bg-gray-100">
          <td class="py-2 px-3 border-b border-gray-400">Atul</td>
          <td class="py-2 px-3 border-b border-gray-400"><span class="font-bold">&#x20b9; </span>567</td>
        </tr>   -->
          </tbody>
        </table>
      </div>

      <div class="container w-full mt-5 md:w-1/2 p-4 ml-2 mx-auto hidden " id="downloadsTable">
        <div class="text-center rounded-t-md bg-green-300 p-1 font-bold ">Downloads History</div>
        <table class="w-full shadow-xl rounded mx-auto ">
          <thead>
            <tr class="bg-gray-300 text-[#002D74] font-bold text-sm">
              <th class="py-2 px-2 border-b border-gray-400">Downloaded On</th>
            </tr>
          </thead>
          <tbody class="text-center" id="addedDownloadlist">
            <!-- <tr class=" text-sm hover:bg-gray-100">
           <td class="py-2 px-3 border-b border-gray-400"><span class="font-bold">&#x20b9; </span>567</td>
         </tr>   -->
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <script src="../js/script.js"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.1.3/axios.min.js"></script>
  </div>
</body>

</html>